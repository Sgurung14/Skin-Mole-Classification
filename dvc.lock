schema: '2.0'
stages:
  train:
    cmd: python -m src.train
    deps:
    - path: data/augmented
      hash: md5
      md5: 4cbf6d558c2c0aae2cbe3c6b61b7c240.dir
      size: 331946934
      nfiles: 19044
    - path: src/augmentations.py
      hash: md5
      md5: 9bf23f3c8c4f299a146a7a2396f98e4d
      size: 4376
    - path: src/data.py
      hash: md5
      md5: 3e00c13feb7cc2af8357b4a6ce4380c0
      size: 1841
    - path: src/modeling.py
      hash: md5
      md5: b13908c431c7d340f329b33b195c31ae
      size: 553
    - path: src/train.py
      hash: md5
      md5: 2ff2f658ca156f49a707c93781b04f35
      size: 3580
    params:
      params.yaml:
        train.batch_size: 16
        train.epochs: 1
        train.img_size: 224
        train.lr: 0.001
    outs:
    - path: metrics.json
      hash: md5
      md5: de721486e2bbcf2909abe1a457545285
      size: 230
    - path: models/model.weights.h5
      hash: md5
      md5: bf66400b191e489cdba4cc8e78707ee4
      size: 16840320
  evaluate:
    cmd: python -m src.evaluation
    deps:
    - path: data/augmented
      hash: md5
      md5: 4cbf6d558c2c0aae2cbe3c6b61b7c240.dir
      size: 331946934
      nfiles: 19044
    - path: models/model.weights.h5
      hash: md5
      md5: bf66400b191e489cdba4cc8e78707ee4
      size: 16840320
    - path: src/data.py
      hash: md5
      md5: 3e00c13feb7cc2af8357b4a6ce4380c0
      size: 1841
    - path: src/evaluation.py
      hash: md5
      md5: 117be8907c6bf1f451558b5818baf00d
      size: 4166
    - path: src/modeling.py
      hash: md5
      md5: b13908c431c7d340f329b33b195c31ae
      size: 553
    outs:
    - path: eval_metrics.json
      hash: md5
      md5: 2a66e33689cdd722742317abe4364fe7
      size: 235
    - path: reports
      hash: md5
      md5: ba338c45d103e13974ad47ba8496efe4.dir
      size: 73514
      nfiles: 2
  augment:
    cmd: python -m src.prepare_data
    deps:
    - path: data/raw
      hash: md5
      md5: 0321e22cc58890b4d5d0d6501e05f521.dir
      size: 3682187555
      nfiles: 9522
    - path: src/augmentations.py
      hash: md5
      md5: 9bf23f3c8c4f299a146a7a2396f98e4d
      size: 4376
    - path: src/prepare_data.py
      hash: md5
      md5: ad5e431e721a9a6c1b8778e839d1631b
      size: 3079
    params:
      params.yaml:
        augment.copies_per_image: 1
        augment.img_size: 224
        augment.include_original: true
        augment.input_dir: data/raw
        augment.output_dir: data/augmented
        augment.seed: 42
    outs:
    - path: data/augmented
      hash: md5
      md5: 4cbf6d558c2c0aae2cbe3c6b61b7c240.dir
      size: 331946934
      nfiles: 19044
