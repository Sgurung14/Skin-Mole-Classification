schema: '2.0'
stages:
  train:
    cmd: python -m src.train
    deps:
    - path: data/augmented
      hash: md5
      md5: 0d2d915d2c7b1c9861e1231e564f346f.dir
      size: 331946596
      nfiles: 19044
    - path: src/augmentations.py
      hash: md5
      md5: 9bf23f3c8c4f299a146a7a2396f98e4d
      size: 4376
    - path: src/data.py
      hash: md5
      md5: 3e00c13feb7cc2af8357b4a6ce4380c0
      size: 1841
    - path: src/modeling.py
      hash: md5
      md5: 9a25b488893095e2af97af9eaed4121d
      size: 786
    - path: src/train.py
      hash: md5
      md5: 51940bc85e23d5a04c0bc3ecec2c458e
      size: 3621
    params:
      params.yaml:
        train.batch_size: 16
        train.epochs: 30
        train.img_size: 224
        train.lr: 0.001
    outs:
    - path: metrics.json
      hash: md5
      md5: a80f74a7c86e8384a3d49bf2c87de30c
      size: 231
    - path: models/model.keras
      hash: md5
      md5: caff0169a9feccefa970afa08dd8f3cf
      size: 9636211
  evaluate:
    cmd: python -m src.evaluation
    deps:
    - path: data/augmented
      hash: md5
      md5: 0d2d915d2c7b1c9861e1231e564f346f.dir
      size: 331946596
      nfiles: 19044
    - path: models/model.keras
      hash: md5
      md5: caff0169a9feccefa970afa08dd8f3cf
      size: 9636211
    - path: src/data.py
      hash: md5
      md5: 3e00c13feb7cc2af8357b4a6ce4380c0
      size: 1841
    - path: src/evaluation.py
      hash: md5
      md5: 45a7e3db29c4e6d1acc8d692f3956a6a
      size: 4136
    - path: src/modeling.py
      hash: md5
      md5: 9a25b488893095e2af97af9eaed4121d
      size: 786
    outs:
    - path: eval_metrics.json
      hash: md5
      md5: 65c495d22229ce9f9c1d64be829647ca
      size: 250
    - path: reports
      hash: md5
      md5: 40b022ec86521a72b521838437468667.dir
      size: 68109
      nfiles: 2
  augment:
    cmd: python -m src.prepare_data
    deps:
    - path: data/raw
      hash: md5
      md5: 0321e22cc58890b4d5d0d6501e05f521.dir
      size: 3682187555
      nfiles: 9522
    - path: src/augmentations.py
      hash: md5
      md5: 9bf23f3c8c4f299a146a7a2396f98e4d
      size: 4376
    - path: src/prepare_data.py
      hash: md5
      md5: ad5e431e721a9a6c1b8778e839d1631b
      size: 3079
    params:
      params.yaml:
        augment.copies_per_image: 1
        augment.img_size: 224
        augment.include_original: true
        augment.input_dir: data/raw
        augment.output_dir: data/augmented
        augment.seed: 42
    outs:
    - path: data/augmented
      hash: md5
      md5: 0d2d915d2c7b1c9861e1231e564f346f.dir
      size: 331946596
      nfiles: 19044
